(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,t,r){e.exports=r(23)},,,,,,function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e,t,r){},function(e){e.exports={levels:[{number:1,vertices:[{color:0,x:.03386310523777891,y:.6547265160576399},{color:0,x:.5554297068574443,y:.08646533065293571},{color:0,x:.9758983635394248,y:.9939237546999748},{color:0,x:.6711899640862049,y:.7909457859045438},{color:1,x:.4834554127151811,y:.3364159091623171},{color:1,x:.16730490739124404,y:.7860075370480152},{color:1,x:.5665027856483332,y:.4066388966597908},{color:1,x:.7509834083370673,y:.6640764635668491},{color:2,x:.8257480125877811,y:.5038134409603552},{color:2,x:.8751252247315294,y:.2730732601736664},{color:2,x:.13031764901251208,y:.30704503124329763},{color:2,x:.2719423776493355,y:.8692967158596541}],requirements:[{type:"Intersection",count:1,params:{color1:0,color2:1}},{type:"Intersection",count:2,params:{color1:1,color2:2}},{type:"Intersection",count:1,params:{color1:2,color2:0}},{type:"Intersection",count:1,params:{color1:1,color2:1}}]}]}},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),a=r(7),o=r.n(a),c=(r(14),r(1)),l=r(2),s=r(4),u=r(3),v=r(5),h=(r(15),r(16),r(17),r(18),["#ff5757","#57a1ff","#fcd21d"]),f=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"getSvgContent",value:function(e,t){if("Intersection"===e){var r=t.color1,a=t.color2;return i.a.createElement(n.Fragment,null,i.a.createElement("line",{x1:0,y1:0,x2:16,y2:16,style:{strokeWidth:3,stroke:h[r]}}),i.a.createElement("line",{x1:16,y1:0,x2:0,y2:16,style:{strokeWidth:3,stroke:h[a]}}))}return null}},{key:"render",value:function(){return i.a.createElement("svg",null,this.getSvgContent(this.props.requirementType,this.props.params))}}]),t}(n.Component),d=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.requirement;return i.a.createElement("div",{className:"requirement-wrapper"},i.a.createElement(f,{requirementType:e.type,params:e.params}),i.a.createElement("div",{className:"requirement-status "+(e.currentCount===e.count?"requirement-status-completed ":"")+(e.currentCount>e.count?"requirement-status-overdone ":"")},e.currentCount," / ",e.count))}}]),t}(n.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"getRequirementElements",value:function(){var e=[],t=0,r=!0,n=!1,a=void 0;try{for(var o,c=this.props.requirements[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;e.push(i.a.createElement(d,{requirement:l,key:"requirement"+t})),t++}}catch(s){n=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(n)throw a}}return e}},{key:"render",value:function(){return i.a.createElement("div",{id:"header-wrapper"},this.getRequirementElements())}}]),t}(n.Component),m=(r(19),r(20),function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={hover:!1},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"getRing",value:function(e,t,r){var n=2*t,a=.15*n;if(e.selected||this.state.hover)return i.a.createElement("circle",{cx:e.x,cy:e.y,r:n,stroke:r,strokeWidth:a,fill:"none",key:"ring"})}},{key:"setHover",value:function(e){this.setState({hover:e})}},{key:"render",value:function(){var e=this,t=this.props.vertex,r=this.props.vertexSize,a=h[t.color];return i.a.createElement(n.Fragment,{key:"fragment"},this.getRing(t,r,a),i.a.createElement("circle",{cx:t.x,cy:t.y,r:r,fill:a}),i.a.createElement("circle",{className:"vertex-circle",cx:t.x,cy:t.y,r:2*r,fillOpacity:0,onClick:function(){return e.props.vertexClicked()},key:"circle",onMouseEnter:function(){return e.setHover(!0)},onMouseLeave:function(){return e.setHover(!1)}}))}}]),t}(n.Component)),x=function e(t,r,n,i){Object(c.a)(this,e),this.id=t,this.color=r,this.x=n,this.y=i,this.selected=!1,this.edge=null},p=(r(21),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.edge;return i.a.createElement("line",{x1:e.vertex1.x,y1:e.vertex1.y,x2:e.vertex2.x,y2:e.vertex2.y,style:{strokeWidth:2,stroke:h[e.color]}})}}]),t}(n.Component)),b=function e(t,r,n,i){Object(c.a)(this,e),this.id=t,this.vertex1=r,this.vertex2=n,this.color=i},g=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).ref=i.a.createRef(),e.state={sizeParams:{}},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",function(){return e.setSizeParams()}),this.setSizeParams()}},{key:"setSizeParams",value:function(){var e=Math.min(this.ref.current.clientWidth,this.ref.current.clientHeight)/100;this.setState({sizeParams:{vertexSize:e,clientWidth:this.ref.current.clientWidth,clientHeight:this.ref.current.clientHeight}})}},{key:"render",value:function(){var e=this,t=[],r=[],n=this.state.sizeParams.vertexSize,a=this.state.sizeParams.clientWidth,o=this.state.sizeParams.clientHeight;if(null!=a){var c=!0,l=!1,s=void 0;try{for(var u,v=this.props.edges[Symbol.iterator]();!(c=(u=v.next()).done);c=!0){var h=u.value,f=h.vertex1.x*a*.84+.08*a,d=h.vertex1.y*o*.84+.08*o,y=h.vertex2.x*a*.84+.08*a,g=h.vertex2.y*o*.84+.08*o,O=new x(h.vertex1.id,h.vertex1.color,f,d),k=new x(h.vertex2.id,h.vertex2.color,y,g),j=new b(h.id,O,k,h.color);t.push(i.a.createElement(p,{edge:j,key:"edge"+h.id}))}}catch(P){l=!0,s=P}finally{try{c||null==v.return||v.return()}finally{if(l)throw s}}var w=!0,E=!1,C=void 0;try{for(var q,S=function(){var t=q.value,c=t.x*a*.84+.08*a,l=t.y*o*.84+.08*o,s=new x(t.id,t.color,c,l);s.selected=t.selected,r.push(i.a.createElement(m,{vertex:s,vertexSize:n,vertexClicked:function(){return e.props.vertexClicked(t.id)},key:"vertex"+t.id}))},z=this.props.vertices[Symbol.iterator]();!(w=(q=z.next()).done);w=!0)S()}catch(P){E=!0,C=P}finally{try{w||null==z.return||z.return()}finally{if(E)throw C}}}return i.a.createElement("svg",{ref:this.ref,id:"field"},t,r)}}]),t}(n.Component),O=function e(t,r,n){Object(c.a)(this,e),this.type=t,this.count=r,this.currentCount=0,this.params=n},k=function e(t,r){Object(c.a)(this,e),this.a=t,this.b=r},j=function e(t,r){Object(c.a)(this,e),this.x=t,this.y=r};function w(e){var t=e.vertex1,r=e.vertex2;if(t.x===r.x)return null;var n=(r.y-t.y)/(r.x-t.x),i=t.y-t.x*n;return new k(n,i)}function E(e,t,r){var n=Math.min(t,r),i=Math.max(t,r);return e>=n&&e<=i}function C(e,t){return t.a*e+t.b}var q=function(e,t){var r=function(e,t){var r=w(e),n=w(t);if(null==r&&null==n)return null;if(null==r||null==n){var i,a;null==r?(i=e,a=n):(i=t,a=r);var o=i.vertex1.x,c=C(o,a);return new j(o,c)}if(r.a===n.a)return null;var l=(n.b-r.b)/(r.a-n.a),s=C(l,r);return new j(l,s)}(e,t);return null!=r&&E(r.x,e.vertex1.x,e.vertex2.x)&&E(r.x,t.vertex1.x,t.vertex2.x)&&E(r.y,e.vertex1.y,e.vertex2.y)&&E(r.y,t.vertex1.y,t.vertex2.y)},S=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={vertices:[],edges:[],requirements:[],selectedVertexId:null},e}return Object(v.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=r(22).levels[0],t=[],n=0,i=!0,a=!1,o=void 0;try{for(var c,l=e.vertices[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var s=c.value;t.push(new x(n,s.color,s.x,s.y)),n++}}catch(p){a=!0,o=p}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}var u=[],v=!0,h=!1,f=void 0;try{for(var d,y=e.requirements[Symbol.iterator]();!(v=(d=y.next()).done);v=!0){var m=d.value;u.push(new O(m.type,m.count,m.params))}}catch(p){h=!0,f=p}finally{try{v||null==y.return||y.return()}finally{if(h)throw f}}this.setState({vertices:t,requirements:u})}},{key:"vertexClicked",value:function(e){var t=this.state.vertices.slice(),r=this.state.edges.slice(),n=this.state.selectedVertexId,i=t[e];if(null==n)if(null==i.edge)n=e,i.selected=!0;else{var a=i.edge;a.vertex1.edge=null,a.vertex2.edge=null,r=r.filter(function(e){return e!==a})}else{if(e!==n){var o=t[n],c=t[e];if(o.color===c.color){if(null!=c.edge){var l=c.edge;l.vertex1.edge=null,l.vertex2.edge=null,r=r.filter(function(e){return e!==l})}var s=o.id*t.length+c.id,u=new b(s,o,c,o.color);r.push(u),o.edge=u,c.edge=u}}t[n].selected=!1,n=null}var v=this.getUpdatedRequirements(r);this.setState({vertices:t,edges:r,requirements:v,selectedVertexId:n})}},{key:"getUpdatedRequirements",value:function(e){for(var t=h.length,r={},n=0;n<e.length;n++)for(var i=0;i<n;i++){var a=e[n],o=e[i];if(q(a,o)){var c=this.getColorPairId(a.color,o.color,t);r.hasOwnProperty(c)||(r[c]=0),r[c]+=1}}var l=this.state.requirements.slice(),s=!0,u=!1,v=void 0;try{for(var f,d=l[Symbol.iterator]();!(s=(f=d.next()).done);s=!0){var y=f.value,m=y.params.color1,x=y.params.color2,p=this.getColorPairId(m,x,t);y.currentCount=0,r.hasOwnProperty(p)&&(y.currentCount=r[p])}}catch(b){u=!0,v=b}finally{try{s||null==d.return||d.return()}finally{if(u)throw v}}return l}},{key:"getColorPairId",value:function(e,t,r){return Math.min(e,t)*r+Math.max(e,t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"wrapper"},i.a.createElement("div",{id:"header"},i.a.createElement(y,{requirements:this.state.requirements})),i.a.createElement("div",{id:"field"},i.a.createElement(g,{vertices:this.state.vertices,edges:this.state.edges,vertexClicked:function(t){return e.vertexClicked(t)}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[8,1,2]]]);
//# sourceMappingURL=main.97c3c3f1.chunk.js.map